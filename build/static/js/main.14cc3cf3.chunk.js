(this["webpackJsonpjr-assessment-jing"]=this["webpackJsonpjr-assessment-jing"]||[]).push([[0],{14:function(e,t,a){e.exports=a(25)},19:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(12),o=a.n(i),r=(a(19),a(2)),c=a(3),l=a(5),m=a(4),u=a(6),d=(a(7),a(9)),h=a(13),p=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).setSortAssets=function(e){n.setState({sortAssets:n.state.sortAssets.sort((function(t,a){return t[e]<a[e]?-1:t[e]>a[e]?1:0}))})},n.state={sortAssets:[]},n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({sortAssets:e.selectedAssets})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"sortForm"},0!==this.props.selectedAssets.length?s.a.createElement(g,{setSortAssets:this.setSortAssets}):null),s.a.createElement("div",{className:"assetsInfo"},this.state.sortAssets.map((function(t){return s.a.createElement(f,{key:t.id,ID:t.id,name:t.name,path:"https://jing-chu.github.io/jr-assessment-jing/images/".concat(t.path),collectionId:t.collectionId,setMasterId:e.props.setMasterId,masterId:e.props.masterId})}))))}}]),a}(s.a.Component),g=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={value:"name"},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.setSortAssets(this.state.value),e.preventDefault()}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",{className:"sort-label"},"Sort by:",s.a.createElement("select",{className:"sort-select",value:this.state.value,onChange:this.handleChange},s.a.createElement("option",{value:"name"},"Name"),s.a.createElement("option",{value:"id"},"Id"))),s.a.createElement("input",{type:"submit",value:"Sort"}))}}]),a}(s.a.Component),f=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.setMasterId(this.props.collectionId,this.props.ID)}},{key:"render",value:function(){return s.a.createElement("div",{className:"asset-card"},s.a.createElement("img",{src:this.props.path,alt:this.props.name,width:"150",height:"150"}),s.a.createElement("div",{className:"asset-detail"},s.a.createElement("p",null,"Name: ",this.props.name),s.a.createElement("p",null,"ID: ",this.props.ID),this.props.ID===this.props.masterId?s.a.createElement(h.a,{icon:d.a,size:"2x"}):s.a.createElement("button",{className:"master",onClick:this.handleClick},"Set Master")))}}]),a}(s.a.Component),j=[{id:1,name:"The Simpsons",masterAssetId:13,tags:{name:"Cartoon",subTag:{name:"Simpsons family",subTag:{name:"2014"}}}},{id:2,name:"Super heroes",masterAssetId:24,tags:{name:"DC Super heroes",subTag:{name:"2014"}}},{id:3,name:"Toy story",masterAssetId:31,tags:{name:"Disney",subTag:{name:"Pixar",subTag:{name:"Original movie",subTag:{name:"2010"}}}}},{id:4,name:"Ninjago",masterAssetId:42,tags:{name:"Ninja",subTag:{name:"Secret Ninja Force",subTag:{name:"2017"}}}}],b=[{id:11,name:"Homer Simpson",path:"Homer.jpg",collectionId:1},{id:12,name:"Lisa Simpson",path:"Lisa.jpg",collectionId:1},{id:13,name:"Bart Simpson",path:"Bart.jpg",collectionId:1},{id:14,name:"Marge Simpson",path:"Marge.jpg",collectionId:1},{id:15,name:"Grampa Simpson",path:"Grampa.jpg",collectionId:1},{id:16,name:"Maggie Simpson",path:"Maggie.jpg",collectionId:1},{id:21,name:"Green Lantern",path:"Green lantern.jpg",collectionId:2},{id:22,name:"Flash",path:"Flash.jpg",collectionId:2},{id:23,name:"Batman",path:"Batman.jpg",collectionId:2},{id:24,name:"Superman",path:"Superman.jpg",collectionId:2},{id:31,name:"Buzz Lightyear",path:"Buzz.jpg",collectionId:3},{id:32,name:"Alien",path:"Alien.jpg",collectionId:3},{id:41,name:"Spinjitzu training Nya",path:"Nya.jpg",collectionId:4},{id:42,name:"Master Wu",path:"Wu.jpg",collectionId:4},{id:43,name:"Lloyd",path:"Lloyd.jpg",collectionId:4}],v=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={collections:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e){return setTimeout((function(){return e(j)}),1e3)})).then((function(t){e.setState({collections:t}),t.forEach((function(t){e.props.setDefaultMasterId(t.id,t.masterAssetId)}))}))}},{key:"getRecurName",value:function(e){return"subTag"in e===!1?e.name:"".concat(e.name," > ").concat(this.getRecurName(e.subTag))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"collectionsInfo"},s.a.createElement("h1",null,"Please select one collection"),this.state.collections.map((function(t){return s.a.createElement(I,{key:t.id,ID:t.id,name:t.name,tag:e.getRecurName(t.tags),setDataFromCollection:e.props.setDataFromCollection,masterId:e.props.masterIdObj[t.id]||t.masterAssetId})})))}}]),a}(s.a.Component),I=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).updateCollectionIcon=function(e){(function(e){var t=b.find((function(t){return t.id===e}));if(!t)throw new Error("Asset not found"+e);return new Promise((function(e){return setTimeout((function(){return e(t)}),500)}))})(e).then((function(e){n.setState({masterPath:"https://jing-chu.github.io/jr-assessment-jing/images/"+e.path})}))},n.handleClick=function(e){e.preventDefault(),function(e){var t=b.filter((function(t){return t.collectionId===e}));return new Promise((function(e){return setTimeout((function(){return e(t)}),1e3)}))}(n.props.ID).then((function(e){n.props.setDataFromCollection(e)}))},n.state={masterPath:""},n.handleClick=n.handleClick.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.updateCollectionIcon(this.props.masterId)}},{key:"componentWillReceiveProps",value:function(e){this.updateCollectionIcon(e.masterId)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("p",null,this.props.tag),s.a.createElement("div",{className:"collection-card"},s.a.createElement("img",{className:"collection-img",src:this.state.masterPath,alt:this.props.name,onClick:this.handleClick,width:"150",height:"150"}),s.a.createElement("div",{className:"collection-detail"},s.a.createElement("p",{className:"collection-select",onClick:this.handleClick},this.props.name))))}}]),a}(s.a.Component),O=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).setDataFromCollection=function(e){n.setState({assets:e})},n.setMasterId=function(e,t){var a=n.state.masterIdObj;a[e]=t,n.setState({masterIdObj:a})},n.state={assets:[],masterIdObj:{}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=0===this.state.assets.length?0:this.state.masterIdObj[this.state.assets[0].collectionId];return s.a.createElement("div",{className:"app"},s.a.createElement(v,{setDataFromCollection:this.setDataFromCollection,setDefaultMasterId:this.setMasterId,masterIdObj:this.state.masterIdObj}),s.a.createElement(p,{selectedAssets:this.state.assets,setMasterId:this.setMasterId,masterId:e}))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){}},[[14,1,2]]]);
//# sourceMappingURL=main.14cc3cf3.chunk.js.map